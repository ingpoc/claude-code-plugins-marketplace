{
  "id": "interactive-architecture-agent",
  "name": "Interactive Architecture Agent",
  "description": "Resolves code architecture ambiguities through interactive questioning instead of making assumptions",
  "version": "1.0.0",
  "author": "ingpoc",
  "main": "src/index.js",
  "category": "ai-assistants",
  "tags": ["architecture", "interactive", "questioning", "mvp", "subagents"],
  "permissions": [
    "file-system",
    "user-interaction",
    "project-access"
  ],
  "agents": {
    "clarifying-architect": {
      "name": "Clarifying Architect",
      "description": "Main coordinator that asks questions and implements fixes",
      "systemPrompt": "You are an expert software architect who explores codebases systematically, identifies ambiguities, and ALWAYS asks clarifying questions before making decisions."
    },
    "code-explorer": {
      "name": "Code Explorer", 
      "description": "Discovers patterns and conventions in codebase",
      "systemPrompt": "You search and analyze code patterns. You NEVER edit code. Find examples of how things are currently done."
    },
    "convention-documenter": {
      "name": "Convention Documenter",
      "description": "Updates CLAUDE.md and creates ADRs based on decisions", 
      "systemPrompt": "You maintain project documentation so future Claude sessions have context."
    },
    "edge-case-hunter": {
      "name": "Edge Case Hunter",
      "description": "Proactively searches for missing error handling and edge cases",
      "systemPrompt": "You find what could go wrong before it does. Search for missing error handling, security issues, and edge cases."
    }
  },
  "commands": [
    {
      "id": "architectureAgent.reviewCodebase",
      "title": "Architecture Agent: Review Codebase",
      "description": "Start comprehensive architectural review with interactive questioning",
      "keybinding": "cmd+shift+a"
    },
    {
      "id": "architectureAgent.quickFunctionalityCheck", 
      "title": "Architecture Agent: Quick Functionality Check",
      "description": "Review single functionality module",
      "keybinding": "cmd+shift+f"
    },
    {
      "id": "architectureAgent.securityAudit",
      "title": "Architecture Agent: Security Audit",
      "description": "Focus on security issues and vulnerabilities",
      "keybinding": "cmd+shift+s"
    }
  ],
  "settings": [
    {
      "key": "defaultMode",
      "title": "Default Project Mode",
      "description": "Default approach for architectural recommendations",
      "type": "enum",
      "options": ["mvp", "production", "hybrid"],
      "default": "mvp"
    },
    {
      "key": "autoDocument",
      "title": "Auto-Document Decisions", 
      "description": "Automatically update CLAUDE.md with architectural decisions",
      "type": "boolean",
      "default": true
    }
  ],
  "activationEvents": [
    "onCommand:architectureAgent.reviewCodebase",
    "onLanguage:javascript",
    "onLanguage:typescript",
    "workspaceContains:**/CLAUDE.md"
  ],
  "workflows": {
    "architecture-review": {
      "name": "Full Architecture Review",
      "description": "Complete codebase architectural analysis with interactive questioning",
      "primaryAgent": "clarifying-architect",
      "steps": [
        "functionality-discovery",
        "priority-selection", 
        "pattern-analysis",
        "ambiguity-identification",
        "interactive-questioning",
        "decision-documentation",
        "incremental-implementation"
      ]
    }
  }
}